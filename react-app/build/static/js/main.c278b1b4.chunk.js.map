{"version":3,"sources":["api/axiosDefaults.js","utils/utils.js","contexts/CurrentUserContext.js","components/NavBar.js","hooks/useRedirect.js","pages/auth/Register.js","pages/auth/Login.js","components/Event.js","pages/events/EventSkeleton.js","pages/events/EventList.js","pages/events/GoogleMapsAutocomplete.js","pages/events/CreateEventForm.js","pages/events/EventDetail.js","pages/events/MapMarkerPopup.js","pages/events/FilterMenu.js","pages/events/EventMap.js","App.js","reportWebVitals.js","index.js"],"names":["axios","defaults","headers","post","withCredentials","axiosReq","create","axiosRes","setTokenTimestamp","data","console","log","refreshTokenTimestamp","jwtDecode","refresh_token","exp","localStorage","setItem","removeTokenTimestamp","removeItem","CurrentUserContext","createContext","SetCurrentUserContext","useSetCurrentUser","useContext","CurrentUserProvider","_ref","children","_useState","useState","_useState2","_slicedToArray","currentUser","setCurrentUser","history","useHistory","handleMount","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axiosRes$get","wrap","_context","prev","next","get","sent","t0","stop","apply","arguments","useEffect","useMemo","interceptors","request","use","_ref3","_callee2","config","_context2","getItem","prevCurrentUser","push","abrupt","_x","err","Promise","reject","response","_ref4","_callee3","_err$response","_context3","status","_x2","_jsx","Provider","value","NavBar","handleLogout","anchorEl","setAnchorEl","open","Boolean","handleClose","AppBar","position","_jsxs","Toolbar","sx","justifyContent","Link","to","component","NavLink","textDecoration","color","Typography","variant","_Fragment","Box","display","alignItems","textAlign","IconButton","onClick","event","currentTarget","size","ml","undefined","Avatar","src","profile_image","width","height","Menu","id","onClose","transformOrigin","horizontal","vertical","anchorOrigin","MenuItem","ListItemIcon","AddBoxIcon","Logout","fontSize","useRedirect","userAuthStatus","RegisterForm","_errors$username","_errors$password","_errors$password2","_errors$non_field_err","username","password1","password2","registerData","setRegisterData","_useState3","_useState4","errors","setErrors","handleChange","_objectSpread","_defineProperty","target","name","handleSubmit","preventDefault","Row","Col","className","md","Container","Form","onSubmit","Group","controlId","Label","Control","type","placeholder","onChange","map","message","idx","Alert","Button","non_field_errors","LoginForm","password","loginData","setLoginData","_yield$axios$post","user","goBack","Event","props","creator_username","title","starts_at","ends_at","address","created_at","updated_at","is_creator","eventlist","Card","maxWidth","CardHeader","avatar","gutterBottom","subheader","mb","CardContent","Stack","direction","divider","Divider","orientation","flexItem","spacing","CardActions","concat","EventSkeleton","minWidth","m","Skeleton","animation","style","marginBottom","React","Fragment","EventList","results","events","setEvents","loaded","setLoaded","fetchEvents","_yield$axiosReq$get","Grid","container","p","item","xs","xl","GoogleMapsAutocomplete","helperText","error","setValue","setEventData","setAddressSelected","trigger","inputRef","usePlacesWidget","apiKey","process","onPlaceSelected","place","formatted_address","prevEventData","lat","geometry","location","long","lng","place_id","options","types","ref","TextField","fullWidth","label","CreateEventForm","_useForm","useForm","defaultValues","control","addressSelected","apiErrors","setApiErrors","_useState5","_useState6","eventData","submitData","formData","_i","_Object$entries","_Object$entries$_i","key","_yield$axiosReq$post","_err$response2","FormData","Object","entries","length","append","format","LocalizationProvider","dateAdapter","AdapterDayjs","noValidate","py","Controller","rules","required","render","_ref2$field","field","fieldState","FormGroup","validate","_ref3$field","dayjs","_ref4$field","DateTimePicker","disablePast","slotProps","textField","_ref5","_ref5$field","alignSelf","EventDetail","useParams","setEvent","MapMarkerPopup","_React$useState","_React$useState2","setOpen","anchorRef","current","contains","prevOpen","focus","PlaceIcon","Popper","role","placement","transition","disablePortal","TransitionProps","Grow","Paper","ClickAwayListener","onClickAway","FilterMenu","dateFilters","setDateFilters","context","prevState","textTransform","backgroundColor","startIcon","TuneIcon","zIndex","background","MobileDatePicker","starts_before","ends_before","starts_after","ends_after","EventMap","mapRef","useRef","mapBounds","setMapBounds","zoom","setZoom","_useState7","_useState8","points","setPoints","_useState9","_useState10","Marker","url","properties","cluster","coordinates","parseFloat","_useSupercluster","useSupercluster","bounds","radius","maxZoom","clusters","supercluster","GoogleMapReact","bootstrapURLKeys","defaultCenter","defaultZoom","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","nw","se","_cluster$geometry$coo","longitude","latitude","_cluster$properties","isCluster","pointCount","point_count","padding","margin","borderRadius","expansionZoom","Math","min","getClusterExpansionZoom","panTo","App","CssBaseline","Switch","Route","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","BrowserRouter","document","getElementById"],"mappings":"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","file":"static/js/main.c278b1b4.chunk.js","sourcesContent":["import axios from \"axios\";\n\naxios.defaults.headers.post[\"Content-Type\"] = \"multipart/form-data\";\naxios.defaults.withCredentials = true;\n\nexport const axiosReq = axios.create();\nexport const axiosRes = axios.create();","import jwtDecode from \"jwt-decode\";\n\nexport const setTokenTimestamp = (data) => {\n  console.log(data)\n  const refreshTokenTimestamp = jwtDecode(data?.refresh_token).exp;\n  console.log(refreshTokenTimestamp)\n  localStorage.setItem(\"refreshTokenTimestamp\", refreshTokenTimestamp);\n};\n\nexport const shouldRefreshToken = () => {\n  return !!localStorage.getItem(\"refreshTokenTimestamp\");\n};\n\nexport const removeTokenTimestamp = () => {\n  localStorage.removeItem(\"refreshTokenTimestamp\");\n};\n","import { createContext, useContext, useEffect, useMemo, useState } from \"react\";\nimport axios from \"axios\";\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\nimport { useHistory } from \"react-router-dom\";\nimport { removeTokenTimestamp, shouldRefreshToken } from \"../utils/utils\";\n\nexport const CurrentUserContext = createContext();\nexport const SetCurrentUserContext = createContext();\n\nexport const useCurrentUser = () => useContext(CurrentUserContext);\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\n\nexport const CurrentUserProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const history = useHistory();\n\n  const handleMount = async () => {\n    try {\n      const { data } = await axiosRes.get(\"/auth/user/\");\n      setCurrentUser(data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    handleMount();\n  }, []);\n\n  useMemo(() => {\n    axiosReq.interceptors.request.use(\n      async (config) => {\n        if (shouldRefreshToken()) {\n          try {\n            await axios.post(\"auth/token/refresh/\");\n          } catch (err) {\n            setCurrentUser((prevCurrentUser) => {\n              if (prevCurrentUser) {\n                history.push(\"/login\");\n              }\n              return null;\n            });\n            removeTokenTimestamp();\n            return config;\n          }\n        }\n        return config;\n      },\n      (err) => {\n        return Promise.reject(err);\n      }\n    );\n\n    axiosRes.interceptors.response.use(\n      (response) => response,\n      async (err) => {\n        if (err.response?.status === 401) {\n          try {\n            await axios.post(\"auth/token/refresh/\");\n          } catch (err) {\n            setCurrentUser((prevCurrentUser) => {\n              if (prevCurrentUser) {\n                history.push(\"/login\");\n              }\n              return null;\n            });\n            removeTokenTimestamp();\n          }\n          return axios(err.config);\n        }\n        return Promise.reject(err);\n      }\n    );\n  }, [history]);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <SetCurrentUserContext.Provider value={setCurrentUser}>\n        {children}\n      </SetCurrentUserContext.Provider>\n    </CurrentUserContext.Provider>\n  );\n};","import { AppBar, ListItemIcon, Toolbar, Typography } from \"@mui/material\";\nimport { NavLink } from \"react-router-dom\";\nimport React, { useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Avatar from \"@mui/material/Avatar\";\nimport Menu from \"@mui/material/Menu\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport IconButton from \"@mui/material/IconButton\";\nimport AddBoxIcon from \"@mui/icons-material/AddBox\";\nimport Logout from \"@mui/icons-material/Logout\";\nimport Link from \"@mui/material/Link\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../contexts/CurrentUserContext\";\nimport { axiosReq } from \"../api/axiosDefaults\";\n\nconst NavBar = () => {\n  const handleLogout = async () => {\n    try {\n      await axiosReq.post(\"auth/logout/\");\n      setCurrentUser(null);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <AppBar position=\"sticky\">\n      <Toolbar sx={{ justifyContent: \"space-between\" }}>\n        <Link\n          to=\"/\"\n          component={NavLink}\n          sx={{\n            textDecoration: \"none\",\n            color: \"white\",\n            \"&:hover\": {\n              color: \"white\",\n            },\n          }}\n          color=\"secondary\"\n        >\n          <Typography variant=\"h5\">Eventually</Typography>\n        </Link>\n\n        <>\n          <Box\n            sx={{ display: \"flex\", alignItems: \"center\", textAlign: \"center\" }}\n          >\n            <IconButton\n              onClick={handleClick}\n              size=\"small\"\n              sx={{ ml: 2 }}\n              aria-controls={open ? \"account-menu\" : undefined}\n              aria-haspopup=\"true\"\n              aria-expanded={open ? \"true\" : undefined}\n            >\n              <Avatar\n                src={currentUser?.profile_image}\n                sx={{ width: 32, height: 32 }}\n              ></Avatar>\n            </IconButton>\n          </Box>\n          <Menu\n            anchorEl={anchorEl}\n            id=\"account-menu\"\n            open={open}\n            onClose={handleClose}\n            onClick={handleClose}\n            transformOrigin={{ horizontal: \"right\", vertical: \"top\" }}\n            anchorOrigin={{ horizontal: \"right\", vertical: \"bottom\" }}\n          >\n            {currentUser ? (\n              <div>\n                <Link\n                  to=\"/create-event\"\n                  component={NavLink}\n                  sx={{ textDecoration: \"none\" }}\n                  color=\"primary\"\n                >\n                  <MenuItem onClick={handleClose}>\n                    <ListItemIcon>\n                      <AddBoxIcon />\n                    </ListItemIcon>\n                    Create Event\n                  </MenuItem>\n                </Link>\n                <Link\n                  to=\"/\"\n                  component={NavLink}\n                  sx={{ textDecoration: \"none\" }}\n                  onClick={handleLogout}\n                >\n                  <MenuItem onClick={handleClose}>\n                    <ListItemIcon>\n                      <Logout fontSize=\"small\" />\n                    </ListItemIcon>\n                    Logout\n                  </MenuItem>\n                </Link>\n              </div>\n            ) : (\n              <div>\n                <NavLink to=\"/login\">\n                  <MenuItem\n                    onClick={handleClose}\n                    sx={{ textDecoration: \"none\" }}\n                  >\n                    <ListItemIcon>\n                      <Logout fontSize=\"small\" />\n                    </ListItemIcon>\n                    Login\n                  </MenuItem>\n                </NavLink>\n                <NavLink to=\"/register\">\n                  <MenuItem\n                    onClick={handleClose}\n                    sx={{ textDecoration: \"none\" }}\n                  >\n                    <ListItemIcon>\n                      <Logout fontSize=\"small\" />\n                    </ListItemIcon>\n                    Register\n                  </MenuItem>\n                </NavLink>\n              </div>\n            )}\n          </Menu>\n        </>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default NavBar;\n","import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nexport const useRedirect = (userAuthStatus) => {\n  const history = useHistory();\n\n  useEffect(() => {\n    const handleMount = async () => {\n      try {\n        await axios.post(\"auth/token/refresh/\");\n        // if user is logged in, the code below will run\n        if (userAuthStatus === \"loggedIn\") {\n          history.push(\"/\");\n        }\n      } catch (err) {\n        // if user is not logged in, the code below will run\n        if (userAuthStatus === \"loggedOut\") {\n          history.push(\"/\");\n        }\n      }\n    };\n\n    handleMount();\n  }, [history, userAuthStatus]);\n};","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Image from \"react-bootstrap/Image\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\nimport axios from \"axios\";\n\nconst RegisterForm = () => {\n  useRedirect(\"loggedIn\");\n  const [registerData, setRegisterData] = useState({\n    username: \"\",\n    password1: \"\",\n    password2: \"\",\n  });\n  const { username, password1, password2 } = registerData;\n\n  const [errors, setErrors] = useState({});\n\n  const history = useHistory();\n\n  const handleChange = (event) => {\n    setRegisterData({\n      ...registerData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axios.post(\"auth/registration/\", registerData);\n      history.push(\"/signin\");\n    } catch (err) {\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row>\n      <Col className=\"my-auto py-2 p-md-2\" md={6}>\n        <Container className=\"p-4\">\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"username\">\n              <Form.Label className=\"d-none\">username</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Username\"\n                name=\"username\"\n                value={username}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors.username?.map((message, idx) => (\n              <Alert variant=\"warning\" key={idx}>\n                {message}\n              </Alert>\n            ))}\n\n            <Form.Group controlId=\"password1\">\n              <Form.Label className=\"d-none\">Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password1\"\n                value={password1}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors.password1?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n\n            <Form.Group controlId=\"password2\">\n              <Form.Label className=\"d-none\">Confirm password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Confirm password\"\n                name=\"password2\"\n                value={password2}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors.password2?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n\n            <Button type=\"submit\">Sign up</Button>\n            {errors.non_field_errors?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\" className=\"mt-3\">\n                {message}\n              </Alert>\n            ))}\n          </Form>\n        </Container>\n\n        <Container className=\"mt-3\">\n          <Link to=\"/signin\">\n            Already have an account? <span>Sign in</span>\n          </Link>\n        </Container>\n      </Col>\n    </Row>\n  );\n};\n\nexport default RegisterForm;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { setTokenTimestamp } from \"../../utils/utils\";\n\nfunction LoginForm() {\n  useRedirect(\"loggedIn\");\n  const setCurrentUser = useSetCurrentUser();\n\n  const [loginData, setLoginData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const { username, password } = loginData;\n\n  const [errors, setErrors] = useState({});\n\n  const history = useHistory();\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await axios.post(\"auth/login/\", loginData);\n      setCurrentUser(data.user);\n      setTokenTimestamp(data);\n      history.goBack();\n    } catch (err) {\n      setErrors(err.response?.data);\n    }\n  };\n\n  const handleChange = (event) => {\n    setLoginData({\n      ...loginData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  return (\n    <Row>\n      <Col className=\"my-auto p-0 p-md-2\" md={6}>\n        <Container>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"username\">\n              <Form.Label className=\"d-none\">Username</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Username\"\n                name=\"username\"\n                value={username}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors.username?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n\n            <Form.Group controlId=\"password\">\n              <Form.Label className=\"d-none\">Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n                value={password}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors.password?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n            <Button type=\"submit\">Sign in</Button>\n            {errors.non_field_errors?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\" className=\"mt-3\">\n                {message}\n              </Alert>\n            ))}\n          </Form>\n        </Container>\n        <Container>\n          <Link to=\"/register\">\n            Don't have an account? <span>Sign up now!</span>\n          </Link>\n        </Container>\n      </Col>\n    </Row>\n  );\n}\n\nexport default LoginForm;\n","import * as React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Card from \"@mui/material/Card\";\nimport CardActions from \"@mui/material/CardActions\";\nimport CardContent from \"@mui/material/CardContent\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\nimport { Avatar, CardHeader, Divider, Stack } from \"@mui/material\";\nimport Link from \"@mui/material/Link\";\nimport { NavLink } from \"react-router-dom\";\n\nconst Event = (props) => {\n  const {\n    id,\n    creator_username,\n    title,\n    starts_at,\n    ends_at,\n    address,\n    created_at,\n    updated_at,\n    is_creator,\n    eventlist,\n    profile_image,\n  } = props;\n  return (\n    <Card sx={{ maxWidth: \"20rem\" }}>\n      <CardHeader\n        avatar={<Avatar src={profile_image} />}\n        title={\n          <Typography variant=\"h5\" color=\"text.secondary\" gutterBottom>\n            {title}\n          </Typography>\n        }\n        subheader={\n          <Typography sx={{ mb: 1.5 }} color=\"text.secondary\">\n            {creator_username}\n          </Typography>\n        }\n      />\n      <CardContent>\n        <Typography sx={{ mb: 1.5 }} color=\"text.secondary\">\n          {address}\n        </Typography>\n        <Stack\n          direction=\"row\"\n          divider={<Divider orientation=\"vertical\" flexItem />}\n          spacing={2}\n        >\n          <Typography variant=\"body2\">{ends_at}</Typography>\n          <Typography variant=\"body2\">{starts_at}</Typography>\n        </Stack>\n      </CardContent>\n      <CardActions>\n        <Link to={`/events/${id}`} component={NavLink} color=\"secondary\">\n          <Button size=\"small\">Learn More</Button>\n        </Link>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default Event;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Card from \"@mui/material/Card\";\nimport CardHeader from \"@mui/material/CardHeader\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport Avatar from \"@mui/material/Avatar\";\nimport Typography from \"@mui/material/Typography\";\nimport IconButton from \"@mui/material/IconButton\";\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\nimport Skeleton from \"@mui/material/Skeleton\";\nimport { Box } from \"@mui/material\";\nconst EventSkeleton = () => {\n  return (\n    <Card sx={{ maxWidth: \"20rem\", minWidth: \"20rem\", m: 2 }}>\n      <CardHeader\n        avatar={\n          <Skeleton\n            animation=\"wave\"\n            variant=\"circular\"\n            width={40}\n            height={40}\n          />\n        }\n        title={\n          <Skeleton\n            animation=\"wave\"\n            height={10}\n            width=\"80%\"\n            style={{ marginBottom: 6 }}\n          />\n        }\n        subheader={<Skeleton animation=\"wave\" height={10} width=\"40%\" />}\n      />\n      <Skeleton sx={{ height: 190 }} animation=\"wave\" variant=\"rectangular\" />\n\n      <CardContent>\n        <React.Fragment>\n          <Skeleton animation=\"wave\" height={10} style={{ marginBottom: 6 }} />\n          <Skeleton animation=\"wave\" height={10} width=\"80%\" />\n        </React.Fragment>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default EventSkeleton;\n","import React, { useEffect, useState } from \"react\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport Event from \"../../components/Event\";\nimport { Grid, Skeleton } from \"@mui/material\";\nimport EventSkeleton from \"./EventSkeleton\";\n\nconst EventList = () => {\n  const [events, setEvents] = useState({ results: [] });\n  const [loaded, setLoaded] = useState(false);\n  useEffect(() => {\n    const fetchEvents = async () => {\n      try {\n        const { data } = await axiosReq.get(\"/events/\");\n        setEvents(data);\n        setLoaded(true);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchEvents();\n  }, []);\n\n  return (\n    <>\n      {loaded ? (\n        <Grid container spacing={3} p={3}>\n          {events.results.map((event) => (\n            <Grid\n              item\n              sx={{ display: \"flex\", justifyContent: \"center\" }}\n              xs={12}\n              md={6}\n              xl={4}\n              key={event.id}\n            >\n              <Event {...event} eventlist />\n            </Grid>\n          ))}\n        </Grid>\n      ) : (\n        <Grid container justifyContent=\"center\" spacing={3} p={3}>\n          <Grid\n            sx={{ display: \"flex\", justifyContent: \"center\" }}\n            item\n            xs={12}\n            md={6}\n            xl={4}\n          >\n            <EventSkeleton />\n          </Grid>\n          <Grid\n            sx={{ display: \"flex\", justifyContent: \"center\" }}\n            item\n            xs={12}\n            md={6}\n            xl={4}\n          >\n            <EventSkeleton />\n          </Grid>\n          <Grid\n            sx={{ display: \"flex\", justifyContent: \"center\" }}\n            item\n            xs={12}\n            md={6}\n            xl={4}\n          >\n            <EventSkeleton />\n          </Grid>\n          <Grid\n            sx={{ display: \"flex\", justifyContent: \"center\" }}\n            item\n            xs={12}\n            md={6}\n            xl={4}\n          >\n            <EventSkeleton />\n          </Grid>\n          <Grid\n            sx={{ display: \"flex\", justifyContent: \"center\" }}\n            item\n            xs={12}\n            md={6}\n            xl={4}\n          >\n            <EventSkeleton />\n          </Grid>\n        </Grid>\n      )}\n    </>\n  );\n};\n\nexport default EventList;\n","import React from \"react\";\nimport { TextField } from \"@mui/material\";\nimport { usePlacesWidget } from \"react-google-autocomplete\";\n\nconst GoogleMapsAutocomplete = (props) => {\n  const {\n    helperText,\n    error,\n    onChange,\n    value,\n    setValue,\n    setEventData,\n    setAddressSelected,\n    trigger,\n  } = props;\n\n  const { ref: inputRef } = usePlacesWidget({\n    apiKey: process.env.REACT_APP_GMAPS_API_KEY\n      ? process.env.REACT_APP_GMAPS_API_KEY\n      : window.REACT_APP_GMAPS_API_KEY,\n    onPlaceSelected: (place) => {\n      setAddressSelected(true);\n      setValue(\"address\", place.formatted_address); // set the address field value for react-hook-form\n      trigger(\"address\"); //trigger input validation\n      setEventData((prevEventData) => ({\n        ...prevEventData,\n        lat: place.geometry.location.lat(),\n        long: place.geometry.location.lng(),\n        address: place.formatted_address,\n        place_id: place.place_id,\n      }));\n    },\n    options: {\n      types: [\"geocode\", \"establishment\"],\n    },\n  });\n\n  return (\n    <TextField\n      helperText={helperText}\n      error={error}\n      onChange={onChange}\n      value={value}\n      fullWidth\n      variant=\"outlined\"\n      label=\"address\"\n      inputRef={inputRef}\n    />\n  );\n};\nexport default GoogleMapsAutocomplete;\n","import { useForm, Controller } from \"react-hook-form\";\nimport React, { useState } from \"react\";\nimport { LocalizationProvider } from \"@mui/x-date-pickers\";\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\nimport { DateTimePicker } from \"@mui/x-date-pickers/DateTimePicker\";\nimport FormGroup from \"@mui/material/FormGroup\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport GoogleMapsAutocomplete from \"./GoogleMapsAutocomplete\";\nimport dayjs from \"dayjs\";\nimport { useHistory } from \"react-router-dom\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { Container, Stack, Typography } from \"@mui/material\";\nexport default function CreateEventForm() {\n  const history = useHistory();\n  const { control, handleSubmit, setValue, trigger } = useForm({\n    defaultValues: { title: \"\", address: \"\", starts_at: \"\", ends_at: \"\" },\n  });\n  const [addressSelected, setAddressSelected] = useState(false);\n  const [apiErrors, setApiErrors] = useState({});\n  const [eventData, setEventData] = useState({\n    lat: \"\",\n    long: \"\",\n    address: \"\",\n    place_id: \"\",\n  });\n  const { address } = eventData;\n\n  const onSubmit = async (submitData) => {\n    const formData = new FormData();\n    for (const [key, value] of Object.entries({\n      ...submitData,\n      ...eventData,\n    })) {\n      if (key === \"starts_at\" || key === \"ends_at\") {\n        formData.append(key, value.format());\n      } else {\n        formData.append(key, value);\n      }\n    }\n    try {\n      const { data } = await axiosReq.post(\"/events/\", formData);\n      history.push(`/events/${data.id}`);\n    } catch (err) {\n      console.log(err);\n      if (err.response?.status !== 401) {\n        setApiErrors(err.response?.data);\n        console.log(apiErrors);\n      }\n    }\n  };\n\n  return (\n    <Container>\n      <LocalizationProvider dateAdapter={AdapterDayjs}>\n        <Stack\n          spacing={3}\n          onSubmit={handleSubmit(onSubmit)}\n          component=\"form\"\n          noValidate\n          py={3}\n        >\n          <Typography variant=\"h3\">Create a new event:</Typography>\n          <Controller\n            name=\"title\"\n            control={control}\n            rules={{ required: \"Please enter a title\" }}\n            render={({ field: { onChange, value }, fieldState: { error } }) => (\n              <TextField\n                helperText={error ? error.message : null}\n                size=\"small\"\n                error={!!error}\n                onChange={onChange}\n                value={value}\n                fullWidth\n                label=\"title\"\n                variant=\"outlined\"\n              />\n            )}\n          />\n          <FormGroup>\n            <Controller\n              name=\"address\"\n              control={control}\n              rules={{\n                validate: () =>\n                  addressSelected ||\n                  \"Please select a valid address from the dropdown\",\n              }}\n              render={({\n                field: { onChange, value },\n                fieldState: { error },\n              }) => (\n                <GoogleMapsAutocomplete\n                  helperText={\n                    error\n                      ? error.message\n                      : \"Please search for an address and select a valid address from the dropdown\"\n                  }\n                  size=\"small\"\n                  error={!!error}\n                  onChange={onChange}\n                  value={value}\n                  setValue={setValue}\n                  trigger={trigger}\n                  setEventData={setEventData}\n                  setAddressSelected={setAddressSelected}\n                />\n              )}\n            />\n            <Typography variant=\"caption\">\n              Selected Address: {address}\n            </Typography>\n          </FormGroup>\n\n          <FormGroup>\n            <Controller\n              name=\"starts_at\"\n              control={control}\n              rules={{\n                required: \"please enter a start date/time\",\n                validate: (value) =>\n                  value > dayjs() || \"please enter a date/time in the future\",\n              }}\n              render={({\n                field: { onChange, value },\n                fieldState: { error },\n              }) => (\n                <DateTimePicker\n                  value={value}\n                  onChange={onChange}\n                  disablePast\n                  label=\"Starts At\"\n                  slotProps={{\n                    textField: {\n                      helperText: error ? error.message : null,\n                      error: !!error,\n                    },\n                  }}\n                />\n              )}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Controller\n              name=\"ends_at\"\n              control={control}\n              rules={{\n                required: \"please enter an end date/time\",\n                validate: (value) =>\n                  value > dayjs() || \"please enter a date/time in the future\",\n              }}\n              render={({\n                field: { onChange, value },\n                fieldState: { error },\n              }) => (\n                <DateTimePicker\n                  value={value}\n                  onChange={onChange}\n                  disablePast\n                  label=\"Ends at\"\n                  slotProps={{\n                    textField: {\n                      helperText: error ? error.message : null,\n                      error: !!error,\n                    },\n                  }}\n                />\n              )}\n            />\n          </FormGroup>\n          <Button\n            variant=\"contained\"\n            sx={{ width: \"fit-content\", alignSelf: \"center\" }}\n            type=\"submit\"\n          >\n            Create Event\n          </Button>\n        </Stack>\n        {apiErrors.address && (\n          <Typography variant=\"body1\" color=\"error\">\n            {apiErrors.address}\n          </Typography>\n        )}\n      </LocalizationProvider>\n    </Container>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport Event from \"../../components/Event\";\nimport { useParams } from \"react-router\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { Box, Container, Skeleton } from \"@mui/material\";\nimport EventSkeleton from \"./EventSkeleton\";\n\nconst EventDetail = () => {\n  const { id } = useParams();\n  const [event, setEvent] = useState({ results: [] });\n  const [loaded, setLoaded] = useState(false);\n  useEffect(() => {\n    const fetchEvents = async () => {\n      try {\n        const { data } = await axiosReq.get(`/events/${id}/`);\n        setEvent(data);\n        setLoaded(true);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchEvents();\n  }, [id]);\n  return (\n    <Container>\n      {loaded ? <Event {...event}></Event> : <EventSkeleton />}\n    </Container>\n  );\n};\n\nexport default EventDetail;\n","// Popper with ClickAwayListener adapted from: https://mui.com/material-ui/react-menu/#menulist-composition\nimport PlaceIcon from \"@mui/icons-material/Place\";\nimport { IconButton } from \"@mui/material\";\nimport ClickAwayListener from \"@mui/material/ClickAwayListener\";\nimport Grow from \"@mui/material/Grow\";\nimport Paper from \"@mui/material/Paper\";\nimport Popper from \"@mui/material/Popper\";\nimport * as React from \"react\";\nimport Event from \"../../components/Event\";\n\nconst MapMarkerPopup = (props) => {\n  const [open, setOpen] = React.useState(false);\n  const anchorRef = React.useRef(null);\n\n  const handleToggle = () => {\n    setOpen((prevOpen) => !prevOpen);\n  };\n\n  const handleClose = (event) => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  // return focus to the button when we transitioned from !open -> open\n  const prevOpen = React.useRef(open);\n  React.useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n  }, [open]);\n\n  return (\n    <div>\n      <IconButton\n        size=\"large\"\n        sx={{ color: \"red\" }}\n        ref={anchorRef}\n        id=\"composition-button\"\n        aria-controls={open ? \"composition-menu\" : undefined}\n        aria-expanded={open ? \"true\" : undefined}\n        aria-haspopup=\"true\"\n        onClick={handleToggle}\n      >\n        <PlaceIcon size=\"large\" />\n      </IconButton>\n      <Popper\n        open={open}\n        anchorEl={anchorRef.current}\n        role={undefined}\n        placement=\"bottom-start\"\n        transition\n        disablePortal\n      >\n        {({ TransitionProps, placement }) => (\n          <Grow\n            {...TransitionProps}\n            style={{\n              transformOrigin:\n                placement === \"bottom-start\" ? \"left top\" : \"left bottom\",\n            }}\n          >\n            <Paper>\n              <ClickAwayListener onClickAway={handleClose}>\n                <div>\n                  <Event {...props}></Event>\n                </div>\n              </ClickAwayListener>\n            </Paper>\n          </Grow>\n        )}\n      </Popper>\n    </div>\n  );\n};\n\nexport default MapMarkerPopup;\n","// Popper with ClickAwayListener adapted from: https://mui.com/material-ui/react-menu/#menulist-composition\nimport TuneIcon from \"@mui/icons-material/Tune\";\nimport { Stack } from \"@mui/material\";\nimport Button from \"@mui/material/Button\";\nimport ClickAwayListener from \"@mui/material/ClickAwayListener\";\nimport Grow from \"@mui/material/Grow\";\nimport Paper from \"@mui/material/Paper\";\nimport Popper from \"@mui/material/Popper\";\nimport { LocalizationProvider, MobileDatePicker } from \"@mui/x-date-pickers\";\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\nimport * as React from \"react\";\n\nconst FilterMenu = (props) => {\n  const [open, setOpen] = React.useState(false);\n  const anchorRef = React.useRef(null);\n  const { dateFilters, setDateFilters } = props;\n\n  const handleToggle = () => {\n    setOpen((prevOpen) => !prevOpen);\n  };\n\n  const handleClose = (event) => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n    setOpen(false);\n  };\n\n  // return focus to the button when we transitioned from !open -> open\n  const prevOpen = React.useRef(open);\n  React.useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n    prevOpen.current = open;\n  }, [open]);\n\n  // handleChange currying syntax stolen from https://mui.com/material-ui/react-popper/#positioned-popper\n  const handleChange = (field) => (value, context) => {\n    if (value) {\n      console.log(value.format());\n      setDateFilters((prevState) => {\n        return {\n          ...prevState,\n          [field]: value,\n        };\n      });\n    }\n  };\n  return (\n    <div>\n      <Button\n        sx={{\n          textTransform: \"none\",\n          backgroundColor: \"white\",\n          color: \"#222\",\n          \"&:hover\": { backgroundColor: \"white\", color: \"#000\" },\n        }}\n        ref={anchorRef}\n        id=\"composition-button\"\n        aria-controls={open ? \"composition-menu\" : undefined}\n        aria-expanded={open ? \"true\" : undefined}\n        aria-haspopup=\"true\"\n        onClick={handleToggle}\n        startIcon={<TuneIcon />}\n      >\n        Filter\n      </Button>\n      <Popper\n        open={open}\n        anchorEl={anchorRef.current}\n        role={undefined}\n        placement=\"bottom-start\"\n        transition\n        disablePortal\n        sx={{ zIndex: 1000 }}\n      >\n        {({ TransitionProps, placement }) => (\n          <Grow\n            {...TransitionProps}\n            style={{\n              transformOrigin:\n                placement === \"bottom-start\" ? \"left top\" : \"left bottom\",\n            }}\n          >\n            <Paper sx={{ background: \"red\" }}>\n              <ClickAwayListener onClickAway={handleClose}>\n                <Stack\n                  direction='row'\n                  spacing={3}\n                  onSubmit={(event) => {\n                    event.preventDefault();\n                  }}\n                  component=\"form\"\n                  noValidate\n                  sx={{ background: \"white\", p: 3 }}\n                >\n                  <LocalizationProvider dateAdapter={AdapterDayjs}>\n                    <MobileDatePicker\n                      value={dateFilters.starts_before || null}\n                      onChange={handleChange(\"starts_before\")}\n                      format=\"DD-MM-YYYY\"\n                      name=\"starts_before\"\n                      size=\"small\"\n                      label=\"Starts Before\"\n                    />\n                    <MobileDatePicker\n                      value={dateFilters.ends_before || null}\n                      onChange={handleChange(\"ends_before\")}\n                      format=\"DD-MM-YYYY\"\n                      name=\"ends_before\"\n                      size=\"small\"\n                      label=\"Ends Before\"\n                    />\n                    <MobileDatePicker\n                      value={dateFilters.starts_after || null}\n                      onChange={handleChange(\"starts_after\")}\n                      format=\"DD-MM-YYYY\"\n                      name=\"starts_after\"\n                      size=\"small\"\n                      label=\"Starts After\"\n                    />\n                    <MobileDatePicker\n                      value={dateFilters.ends_after || null}\n                      onChange={handleChange(\"ends_after\")}\n                      format=\"DD-MM-YYYY\"\n                      name=\"ends_after\"\n                      size=\"small\"\n                      label=\"Ends After\"\n                    />\n                    <Button type=\"submit\">Submit</Button>\n                  </LocalizationProvider>\n                </Stack>\n              </ClickAwayListener>\n            </Paper>\n          </Grow>\n        )}\n      </Popper>\n    </div>\n  );\n};\n\nexport default FilterMenu;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport GoogleMapReact from \"google-map-react\";\nimport { Button } from \"@mui/material\";\nimport useSupercluster from \"use-supercluster\";\nimport MapMarkerPopup from \"./MapMarkerPopup\";\nimport FilterMenu from \"./FilterMenu\";\n\nconst EventMap = () => {\n  const [loaded, setLoaded] = useState(false);\n  const mapRef = useRef();\n  const [mapBounds, setMapBounds] = useState([]);\n  const [zoom, setZoom] = useState(10);\n  const [points, setPoints] = useState([]);\n  const [dateFilters, setDateFilters] = useState({\n    starts_after: null,\n    ends_after: null,\n    starts_before: null,\n    ends_before: null,\n  });\n\n  const Marker = ({ children }) => children;\n\n  useEffect(() => {\n    const fetchEvents = async () => {\n      if (mapBounds.length) {\n        try {\n          // const { data } = await axiosReq.get(`/events/`);\n          console.log(mapBounds);\n          let url = `/events/?min_lat=${mapBounds[1]}&max_lat=${mapBounds[3]}&min_long=${mapBounds[0]}&max_long=${mapBounds[2]}`;\n          for (let item in dateFilters) {\n            if (dateFilters[item]) {\n              url += `&${item}=${dateFilters[item].format(\"YYYY-MM-DD\")}`;\n            }\n          }\n          const { data } = await axiosReq.get(url);\n          setLoaded(true);\n          setPoints(\n            data.results.map((event) => ({\n              type: \"Feature\",\n              properties: {\n                cluster: false,\n                ...event,\n              },\n              geometry: {\n                type: \"Point\",\n                coordinates: [parseFloat(event.long), parseFloat(event.lat)],\n              },\n            }))\n          );\n          console.log(data);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    };\n    fetchEvents();\n  }, [mapBounds, dateFilters]);\n  const { clusters, supercluster } = useSupercluster({\n    points,\n    zoom,\n    bounds: mapBounds,\n    options: { radius: 25, maxZoom: 20 },\n  });\n\n  return (\n    <div style={{ height: \"85vh\", width: \"100%\" }}>\n      <div>\n        <FilterMenu dateFilters={dateFilters} setDateFilters={setDateFilters} />\n      </div>\n      <GoogleMapReact\n        bootstrapURLKeys={{\n          key: process.env.REACT_APP_GMAPS_API_KEY\n            ? process.env.REACT_APP_GMAPS_API_KEY\n            : window.REACT_APP_GMAPS_API_KEY,\n        }}\n        defaultCenter={{ lat: 53.41291, lng: -8.24389 }}\n        defaultZoom={8}\n        yesIWantToUseGoogleMapApiInternals\n        onGoogleApiLoaded={({ map }) => {\n          mapRef.current = map;\n          // console.log(map.getBounds().toJSON())\n          // let bounds = map.getBounds().toJSON()\n          // // set mapBounds to initial map bounds:\n          // setMapBounds([\n          //   bounds[3],\n          //   bounds[2],\n          //   bounds[0],\n          //   bounds[1],\n          // ])\n        }}\n        onChange={({ zoom, bounds }) => {\n          setZoom(zoom);\n          console.log(`zoom:`, zoom);\n          setMapBounds([\n            bounds.nw.lng,\n            bounds.se.lat,\n            bounds.se.lng,\n            bounds.nw.lat,\n          ]);\n        }}\n      >\n        {clusters.map((cluster) => {\n          const [longitude, latitude] = cluster.geometry.coordinates;\n          const { cluster: isCluster, point_count: pointCount } =\n            cluster.properties;\n\n          if (isCluster) {\n            return (\n              <Marker\n                key={`cluster-${cluster.id}`}\n                lat={latitude}\n                lng={longitude}\n              >\n                <Button\n                  variant=\"contained\"\n                  className=\"cluster-marker\"\n                  sx={{\n                    padding: 0,\n                    margin: 0,\n                    width: `${60 + (pointCount / points.length) * 35}px`,\n                    height: `${60 + (pointCount / points.length) * 35}px`,\n                    borderRadius: \"100%\",\n                  }}\n                  onClick={() => {\n                    const expansionZoom = Math.min(\n                      supercluster.getClusterExpansionZoom(cluster.id),\n                      20\n                    );\n                    mapRef.current.setZoom(expansionZoom);\n                    mapRef.current.panTo({ lat: latitude, lng: longitude });\n                  }}\n                >\n                  {pointCount}\n                </Button>\n              </Marker>\n            );\n          }\n\n          return (\n            <Marker\n              key={`event-${cluster.properties.id}`}\n              lat={latitude}\n              lng={longitude}\n            >\n              <MapMarkerPopup {...cluster.properties} />\n            </Marker>\n          );\n        })}\n      </GoogleMapReact>\n    </div>\n  );\n};\n\nexport default EventMap;\n","import NavBar from \"./components/NavBar\";\nimport { Route, Switch } from \"react-router-dom\";\nimport RegisterForm from \"./pages/auth/Register\";\nimport LoginForm from \"./pages/auth/Login\";\nimport EventList from \"./pages/events/EventList\";\nimport CreateEventForm from \"./pages/events/CreateEventForm\";\nimport EventDetail from \"./pages/events/EventDetail\";\nimport { CssBaseline, Stack } from \"@mui/material\";\nimport EventMap from \"./pages/events/EventMap\";\n\nfunction App() {\n  return (\n    <Stack>\n      <CssBaseline />\n      <NavBar />\n      <Switch>\n        <Route exact path=\"/\" render={() => <EventMap />} />\n        <Route exact path=\"/login\" render={() => <LoginForm />} />\n        <Route exact path=\"/register\" render={() => <RegisterForm />} />\n        <Route exact path=\"/events/:id\" render={() => <EventDetail />} />\n        <Route exact path=\"/events/\" render={() => <EventList />} />\n        <Route exact path=\"/create-event\" render={() => <CreateEventForm />} />\n      </Switch>\n    </Stack>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from \"react-dom\";\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from \"react-router-dom\";\nimport { CurrentUserProvider } from \"./contexts/CurrentUserContext\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <CurrentUserProvider>\n        <App />\n    </CurrentUserProvider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}